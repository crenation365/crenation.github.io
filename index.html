<!DOCTYPE html>
<html>

<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CreNation.net</title>


  <style>
    * {
  margin: 0;
  padding: 0;
}

body {
  overflow-x: hidden;
}

#video-section {
  position: relative;
  background-color: white;
}

#video-wrapper {
  position: sticky;
  top: 0;
  left: 0;
  display: flex;
  align-items: center;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
}

#video-wrapper video {
  width: 100%;
}

.title-wrapper {
  position: absolute;
  left: 50%;
  top: 20%;
  width: 100%;
  transform: translate(-50%, -50%);
}

h1.second-1,
h1.second-2,
h1.second-3 {
  opacity: 0;
  transform: translate(0, 70px);
}

.title {
  font-size: 120px;
  font-weight: 300;
  color: white;
  width: 100%;
  text-align: center;
  word-break: keep-all;
}

h1.transition-duration {
  transition: 2s ease-out;
}

h1.hidden {
  opacity: 0;
  transform: translate(0, 70px);
}

@media (max-width: 640px) {
  h1.title {
    font-size: 65px;
  }
}

@media (max-width: 934px) {
  #video-wrapper {
    align-items: normal;
    justify-content: center;
  }
  #video-wrapper video {
    width: auto;
    height: 100%;
  }
}

  </style>

  
</head>
<body>
  <!DOCTYPE html>
<html lang="en">
  <link rel="stylesheet" href="./index.css" />
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="video-section">
      <div id="video-wrapper">
        <div class="title-wrapper">
          <h1 class="title first hidden transition-duration">
		</h1>

        </div>
        <div class="title-wrapper second">

        </div>
        <video id="video" type="video/mp4"></video>
      </div>
    </div>
    <div style="height: 100vh"></div>
  </body>
  <script>
    let loaded = false;
    const videoPlayBack = 380;
    const videoEnding = 3000;
    const videoElement = document.getElementById("video");
    const videoSection = document.getElementById("video-section");
    const firstTitle = document.querySelector(".title.first");
    const secondTitle1 = document.querySelector(".title.second-1");
    const secondTitle2 = document.querySelector(".title.second-2");
    const secondTitle3 = document.querySelector(".title.second-3");
    const secondTitleWrapper = document.querySelector(".title-wrapper.second");

    const fadeUp = (element) => {
      element.classList.remove("hidden");
      setTimeout(() => {
        element.classList.remove("transition-duration");
        loaded = true;
      }, 2000);
    };

    const play = (video) => {
      videoElement.currentTime =
        (window.scrollY - videoSection.offsetTop) / videoPlayBack;

      const ANIMATION_GAP = 600;
      const firstTitleFadeStart = 600;
      const firstTitleFadeEnd = firstTitleFadeStart + ANIMATION_GAP;

      if (window.scrollY <= firstTitleFadeStart) {
        firstTitle.style.opacity = 1;
      } else if (
        window.scrollY >= firstTitleFadeStart &&
        window.scrollY < firstTitleFadeEnd
      ) {
        firstTitle.style.opacity =
          1 - (1 / ANIMATION_GAP) * (window.scrollY - firstTitleFadeStart);
      } else if (window.scrollY >= firstTitleFadeEnd) {
        firstTitle.style.opacity = 0;
      }

      const secondTitle1Start = firstTitleFadeEnd;
      const secondTitle2Start = secondTitle1Start + ANIMATION_GAP;
      const secondTitle3Start = secondTitle2Start + ANIMATION_GAP;
      const secondTitle3End = secondTitle3Start + ANIMATION_GAP;
      const secondTitleFadeStart = secondTitle3End + ANIMATION_GAP;
      const secondTitleFadeEnd = secondTitleFadeStart + ANIMATION_GAP;

      if (window.scrollY < secondTitle1Start) {
        secondTitle1.style.opacity = 0;
        secondTitle1.style.transform = `translate(0px, 70px)`;
      } else if (
        window.scrollY >= secondTitle1Start &&
        window.scrollY < secondTitle2Start
      ) {
        secondTitle2.style.opacity = 0;
        secondTitle2.style.transform = `translate(0px, 70px)`;

        secondTitle1.style.opacity =
          (1 / ANIMATION_GAP) * (window.scrollY - secondTitle1Start);
        secondTitle1.style.transform = `translate(0px, ${
          70 - (70 / ANIMATION_GAP) * (window.scrollY - secondTitle1Start)
        }px)`;
      } else if (
        window.scrollY >= secondTitle2Start &&
        window.scrollY < secondTitle3Start
      ) {
        secondTitle1.style.opacity = 1;
        secondTitle1.style.transform = `translate(0px, 0px)`;

        secondTitle3.style.opacity = 0;
        secondTitle3.style.transform = `translate(0px, 70px)`;

        secondTitle2.style.opacity =
          (1 / ANIMATION_GAP) * (window.scrollY - secondTitle2Start);
        secondTitle2.style.transform = `translate(0px, ${
          70 - (70 / ANIMATION_GAP) * (window.scrollY - secondTitle2Start)
        }px)`;
      } else if (
        window.scrollY >= secondTitle3Start &&
        window.scrollY < secondTitle3End
      ) {
        secondTitle2.style.opacity = 1;
        secondTitle2.style.transform = `translate(0px, 0px)`;

        secondTitle3.style.opacity =
          (1 / ANIMATION_GAP) * (window.scrollY - secondTitle3Start);
        secondTitle3.style.transform = `translate(0px,  ${
          70 - (70 / ANIMATION_GAP) * (window.scrollY - secondTitle3Start)
        }px)`;
      } else if (window.scrollY > secondTitle3End) {
        secondTitle3.style.opacity = 1;
        secondTitle3.style.transform = `translate(0px, 0px)`;
      }

      if (window.scrollY < secondTitleFadeStart) {
        secondTitleWrapper.style.opacity = 1;
      }
      if (
        window.scrollY >= secondTitleFadeStart &&
        window.scrollY < secondTitleFadeEnd
      ) {
        secondTitleWrapper.style.opacity =
          1 - (1 / ANIMATION_GAP) * (window.scrollY - secondTitleFadeStart);
      } else if (window.scrollY > secondTitleFadeEnd) {
        secondTitleWrapper.style.opacity = 0;
      }

      if (window.scrollY < secondTitleFadeEnd + 800) {
        videoElement.style.display = "block";
      } else {
        console.log("hidden");
        videoElement.style.display = "none";
      }
    };

    document.addEventListener("scroll", (e) => {
      if (!loaded) window.scrollTo(0, 0);
      play();
    });

    videoElement.addEventListener("loadedmetadata", () => {
      videoSection.style.height =
        videoElement.duration * videoPlayBack + videoEnding + "px";
      fadeUp(firstTitle);
    });

    videoElement.src =
      "ICE-short.mp4";
  </script>

<h2 align="center">스크롤 무비제어 샘플</h2>
<br><br><br><br>
    <h1 align="center"><A href = "MOUNT.html"><IMG src = "MOUNT.jpg"></A></h1>
<p align="center">산중첩</p>
<br><br><br><br>
    <h1 align="center"><A href = "HISTORY.html"><IMG src = "HISTORY.jpg"></A></h1>
<p align="center">히스토리</p>
<br><br><br><br>
    <h1 align="center"><A href = "DRONE.html"><IMG src = "DRONE.jpg"></A></h1>
<p align="center">드론</p>
<br><br><br><br>
    <h1 align="center"><A href = "index.html"><IMG src = "ICE-short.jpg"></A></h1>
<p align="center">아이슬란드-short</p>
<br><br><br><br>
    <h1 align="center"><A href = "ICE-long.html"><IMG src = "ICE-long.jpg"></A></h1>
<p align="center">아이슬란드-long</p>
<br><br><br><br>
    <h1 align="center"><A href = "ICE-high.html"><IMG src = "ICE-high.jpg"></A></h1>
<p align="center">아이슬란드-고화질</p>
<br><br><br><br>
    <h1 align="center"><A href = "MORAN.html"><IMG src = "MORAN.jpg"></A></h1>
<p align="center">모란</p>
<br><br><br><br><br><br><br>


    <h1 align="center"><A href = "http://www.crenation.net"><IMG src = "HOME.gif"></A></h1>
    <p align="center">CreNation.net | 디자인컨설팅네트워크 | 010.6707.6210 | crenation@daum.net</p>
<br><br><br><br><br><br><br>

</html>


  <script>




  </script>

</body>
</html>
